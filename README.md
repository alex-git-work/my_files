# Развертывание проекта.

Установка и настройка
---------------------
После клонирования репозитория и обновления зависимостей (composer update) необходимо провести следующие настройки:

1. Настроить параметры тестового окружения в /config/env/params-local.php

_По умолчанию используется тестовое, переключение осуществляется в /config/const.php, параметр IS_DEV_SERVER._

Нужно указать необходимые параметры и параметры подключения к БД.

app_deployed - разрешено ли развёртывание. Установить false.
Внимание!!! В процессе создания таблиц, при совпадении имен, все данные из существующих таблиц будут удалены.
Будьте внимательны!

2. Отправить GET запрос на /deployment/start.

Будут созданы все таблицы и Админ по-умолчанию.
логин: admin@example.com
пароль: @dmin12-34!

Не забудьте изменить логин и пароль администратора с тех, что созданы по-умолчанию и переключить app_deployed обратно в true
(т.к. /deployment/start общедоступен и можно потерять все данные).

Приложение готово к работе.

# Жизненный цикл приложения.


Точкой входа для всех запросов к приложению является файл index.php.
Все запросы направляются в этот файл конфигурацией веб-сервера Apache.

Файл index.php загружает основные константы, хэлперы, автозагрузчик, созданный Composer'ом, и маршруты.

Затем создаётся маршрутизатор, регистрируются маршруты, создаётся и запускается приложение.

При инициализации приложения в нём создается класс подключения к БД и загружаются основные настройки.

При запуске приложения маршрутизатор ищет необходимый маршрут среди зарегистрированных маршрутов и сопоставляет метод запроса.
После нахождения маршрута создается экземпляр контроллера, в нём вызывается нужное действие, в которое, если это необходимо,
передаются нужные данные. При инициализации контроллера создаются классы запроса и ответа.

После выполнения действия контроллера в ответ добавляются необходимые данные, после чего он возвращается в приложение.
Там к нему добавляются необходимые данные (код ответа и т.п.), после чего содержимое ответа отправляется клиенту.
